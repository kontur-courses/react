<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="reveal/css/reveal.css">
    <link rel="stylesheet" href="reveal/css/theme/kontur-light.css" id="theme">
    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="reveal/css/highlight/idea-for-light.css">
    <link rel="stylesheet" href="reveal/css/highlight/darkula-for-dark.css">
    <!--[if lt IE 9]>
    <script src="reveal/js/html5shiv.js"></script>
    <![endif]-->
	<script defer src="reveal/js/head.min.js"></script>
	<script defer src="reveal/js/reveal.js"></script>
	<script defer src="reveal/initialize.js"></script>
	<script defer src="reveal/js/d3.min.js"></script>

    <style>
		.fragment-container {
			position: relative;
		}
		
		.fragment-container .fragment {
			position: absolute;
			top: 0px;
			width: 100%;
		}

        .tools.tools {
          margin: -30% auto 0;
          height: 100vh;
          display: block;
        }
    </style>
	
	<title>React</title>
</head>
<body>

<div class="reveal"><div class="slides">

<section data-markdown><script type="text/template">

# React

<p style="text-align: center;"><a href="https://github.com/kontur-courses/react">https://github.com/kontur-courses/<b>react</b></a></p>

</script></section>

<section data-markdown><script type="text/template">

## –°–Ω–∞—á–∞–ª–∞ —Å–∞–º–æ–µ ~~–¥–æ–ª–≥–æ–µ~~ –≤–∞–∂–Ω–æ–µ

–°–∫–∞—á–∏–≤–∞–µ–º –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã Node.js:
```
cd tasks
npm install
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏ dev-—Å–µ—Ä–≤–µ—Ä, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–µ—à–µ–Ω–∏–π –∑–∞–¥–∞—á:
```cmd
npm run start
```

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –Ω–∞ <a href="http://localhost:8080">http://localhost:8080</a>

–ü–µ—Ä–µ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ, –ø–æ–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç dev-—Å–µ—Ä–≤–µ—Ä

</script></section>


<!-- ************************************************* -->


<section data-markdown><script type="text/template">

## –ó–∞—á–µ–º –ø–æ–Ω–∞–¥–æ–±–∏–ª—Å—è React?

***

### –°–ª–æ–∏ HTML, JS, CSS üò´

	HTML =================================
	CSS  ======
	JS   ===

–£–¥–æ–±–Ω–æ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –Ω–µ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

***

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ üòç

```js
HTML+CSS+JS   |   HTML+CSS+JS   |   HTML+CSS+JS
```

- –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç = HTML + JS + CSS
- –ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å!
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã: –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ CSS

***

### HTML - –Ω–µ–¥–æ—è–∑—ã–∫ üòû

<pre><code class="lang-html hljs">
&lt;script&gt;
function handleClick() {
	...
}
&lt;/script&gt;

&lt;input type="button" onclick="handleClick()"/&gt;</code></pre>

–•–æ—á–µ—Ç—Å—è –º–µ—Ç–æ–¥–æ–≤ –∏ –æ–ø–∏—Å–∞–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å—Ä–∞–∑—É –∏ —Ä—è–¥–æ–º

***

### JSX = HTML + JS üòá

```js
function ButtonWithHandle() {
    function handleClick() {
	    ...
	}
	
	return <input type="button" onClick={handleClick}/>
}
```

***

### DOM –º–µ–¥–ª–µ–Ω–Ω—ã–π üòï

–ê –≤–æ—Ç JavaScript ‚Äî –±—ã—Å—Ç—Ä—ã–π –∑–∞ —Å—á–µ—Ç JIT-–∫–æ–º–ø–∏–ª—è—Ü–∏–∏!

***

### VirtualDOM ‚Äî –±–µ—Ä–µ—Ç –Ω–∞ —Å–µ–±—è —É–ø—è—á–∫—É üòé

–ò –æ–±–Ω–æ–≤–ª—è–µ—Ç DOM –∫–æ–≥–¥–∞ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —á—Ç–æ-—Ç–æ –ø–æ–º–µ–Ω—è–ª–æ—Å—å

***

### –¢–æ–ª—å–∫–æ View –≤ MV* üî®

React —Ä–µ—à–∞–µ—Ç –æ–¥–Ω—É –ø—Ä–æ–±–ª–µ–º—É –∏ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ —Ö–æ—Ä–æ—à–æ

</script></section>


<!-- ************************************************* -->


<section data-markdown><script type="text/template">

## 1. JSX ‚Äî —É–ª—É—á—à–µ–Ω–Ω—ã–π HTML

***

### –í—Å—Ç–∞–≤–∫–∞ React –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É

<pre><code class="lang-html hljs">&lt;div id="app"&gt;&lt;/div&gt;</code></pre>

```js
ReactDom.render(
  <div className="fromReact"></div>,
  document.getElementById('app')
);
```

- –ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –ª—é–±–æ–µ –º–µ—Å—Ç–æ, –¥–∞–∂–µ –≤ –ª–µ–≥–∞—Å–∏
- –ú–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑

***

### –û—Ç–ª–∏—á–∏—è –≤–µ—Ä—Å—Ç–∫–∏ –Ω–∞ JSX

–í–µ—Ä—Å—Ç–∫–∞ –Ω–∞ JSX –ø–æ—Ö–æ–∂–∞ –Ω–∞ HTML, –Ω–æ –µ—Å—Ç—å –æ—Ç–ª–∏—á–∏—è

***

### –≠–ª–µ–º–µ–Ω—Ç—ã

React-–æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –≤ HTML

**HTML**
<pre><code class="lang-html hljs">&lt;div&gt;&lt;/div&gt; &lt;span&gt;&lt;/span&gt;</code></pre>

**JSX**
<pre><code class="lang-html hljs">&lt;div&gt;&lt;/div&gt; &lt;span&gt;&lt;/span&gt;</code></pre>

***

### –ò–º–µ–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ

**HTML**
<pre><code class="lang-html hljs">&lt;div&gt;&lt;/div&gt; –∏–ª–∏ &lt;DIV&gt;&lt;/DIV&gt; –∏–ª–∏ &lt;Div&gt;&lt;/diV&gt;</code></pre>

**JSX**
<pre><code class="lang-html hljs">&lt;div&gt;&lt;/div&gt;</code></pre>

***

### –¢—ç–≥–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–∫—Ä—ã—Ç—ã–º–∏

–õ–∏–±–æ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–π —Ç—ç–≥
<pre><code class="lang-html hljs">&lt;div&gt;Hello&lt;/div&gt;</code></pre>

–õ–∏–±–æ —Å–ª—ç—à –≤ –∫–æ–Ω—Ü–µ
<pre><code class="lang-html hljs">&lt;br /&gt;</code></pre>

***

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –≤ camelCase

–í–º–µ—Å—Ç–æ dash-case

**HTML**
<pre><code class="lang-html hljs">&lt;input type="text" tabindex="0" onclick="alert()"&gt;</code></pre>

**JSX**
<pre><code class="lang-html hljs">&lt;input type="text" tabIndex="0" onClick="alert()" /&gt;</code></pre>

***

### –î–≤–∞ —Å–ø–æ—Å–æ–±–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞

–ß–µ—Ä–µ–∑ `""` –∫–∞–∫ –≤ HTML

<pre><code class="lang-html hljs">&lt;input type="text" tabIndex="0" /&gt;</code></pre>

–ß–µ—Ä–µ–∑ `{}` —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤—Å—Ç–∞–≤–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ JS

<pre><code class="lang-html hljs">&lt;input type={"text"} tabIndex={a + 5} onClick={alert()} /&gt;</code></pre>

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤ IDE —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∏

***

### –í—Å—Ç–∞–≤–∫–∞ JS-–∑–Ω–∞—á–µ–Ω–∏–π –≤ –≤–µ—Ä—Å—Ç–∫—É

<pre><code class="lang-html hljs">&lt;div&gt;{Math.round(1000/3)}&lt;/div&gt;</code></pre>

***

### Escaping

```js
const title = response.potentiallyMaliciousInput;
// This is safe:
const element = <h1>{title}</h1>;
```

```js
function render() {
  const value = {__html: 'First &middot; Second'};
  return <div dangerouslySetInnerHTML={value} />;
}
```

***

### class ‚Üí className

**HTML**
<pre><code class="lang-html hljs">&lt;div class="red"&gt;&lt;/div&gt;</code></pre>

**JSX**
<pre><code class="lang-html hljs">&lt;div className="red"&gt;&lt;/div&gt;</code></pre>

class ‚Äî —Å–ª–∏—à–∫–æ–º –ø–æ–ø—É–ª—è—Ä–Ω–æ–µ —Å–ª–æ–≤–æ


***

### for ‚Üí htmlFor

**HTML**
<pre><code class="lang-html hljs">&lt;label for="something"&gt;–ù–µ—á—Ç–æ&lt;/label&gt;&lt;input id="something" type="text"&gt;</code></pre>

**JSX**
<pre><code class="lang-html hljs">&lt;label htmlFor="something"&gt;–ù–µ—á—Ç–æ&lt;/label&gt;&lt;input id="something" type="text" /&gt;</code></pre>


***

### style ‚Äî —ç—Ç–æ JS-–æ–±—ä–µ–∫—Ç

**HTML**
<pre><code class="lang-html hljs">&lt;div style="text-align: center; width: 5em; height: 100px"&gt;</code></pre>

**JSX**
<pre><code class="lang-html hljs">&lt;div style={{textAlign: "center", width: "5em", height: 100 }}&gt;</code></pre>

–ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ –≤–∏–¥–µ JSON: `{key1: value1, key2: value2}`
–ü–µ—Ä–µ–¥–∞–µ–º —á–µ—Ä–µ–∑ `{}`

***

### value ‚Üí defaultValue,<br>checked ‚Üí defaultChecked

**HTML**
<pre><code class="lang-html hljs">&lt;input type="text" value="Candy"&gt;
&lt;input type="checkbox" checked&gt;
</code></pre>

**JSX**
<pre><code class="lang-html hljs">&lt;input type="text" defaultValue="Candy"/ &gt;
&lt;input type="checkbox" defaultChecked /&gt;
</code></pre>

- –¢–∞–∫ –ª–æ–≥–∏—á–Ω–µ–µ
- –ê—Ç—Ä–∏–±—É—Ç—ã value –∏ checked –≤ React –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è

***

### –ó–∞–¥–∞—á–∞ 1.1. SimpleHtml
### –ó–∞–¥–∞—á–∞ 1.2. Button
### –ó–∞–¥–∞—á–∞ 1.3. Input

***

### Babel: JSX ‚Üí JS

```js
var userName = '–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é';

var mydom = _react2.default.createElement(
  'div',
  { className: 'root' },
  _react2.default.createElement(
    'div',
    { className: 'form' },
    _react2.default.createElement(
      'div',
      { style: { paddingRight: "10px", display: "inline-block" } },
      _react2.default.createElement(
        'label',
        { htmlFor: 'name' },
        '\u0418\u043C\u044F'
      )
    ),
    _react2.default.createElement('input', {
      id: 'name',
      type: 'text',
      size: '39',
      onChange: function onChange(event) {
        var target = event.target;
        debugger;
      },
      onBlur: function onBlur() {
        return alert('userName: ' + userName);
      }
    })
  )
);

_reactDom2.default.render(mydom, document.getElementById('app'));
```

***

### VirtualDOM ‚Äî –ø–æ–ª—É—á–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ

```json
{
  "type": "div",
  "key": null,
  "ref": null,
  "props": {
    "className": "root",
    "children": {
      "type": "div",
      "key": null,
      "ref": null,
      "props": {
        "className": "form",
        "children": [
          {
            "type": "div",
            "key": null,
            "ref": null,
            "props": {
              "style": {
                "paddingRight": "10px",
                "display": "inline-block"
              },
              "children": {
                "type": "label",
                "key": null,
                "ref": null,
                "props": {
                  "htmlFor": "name",
                  "children": "–ò–º—è"
                },
                "_owner": null,
                "_store": {
                  
                }
              }
            },
            "_owner": null,
            "_store": {
              
            }
          },
          {
            "type": "input",
            "key": null,
            "ref": null,
            "props": {
              "id": "name",
              "type": "text",
              "size": "39"
            },
            "_owner": null,
            "_store": {
              
            }
          }
        ]
      },
      "_owner": null,
      "_store": {
        
      }
    }
  },
  "_owner": null,
  "_store": {
    
  }
}
```

***

### VirtualDOM, DOM Elements, SyntheticEvent

<div style="text-align: center">Welcome to the `M A T R I X`</div>

</script></section>


<!-- ************************************************* -->


<section data-markdown><script type="text/template">

## 2. –§—É–Ω–∫—Ü–∏–∏, —Ü–∏–∫–ª—ã, –≤–µ—Ç–≤–ª–µ–Ω–∏—è

***

–ü–æ—Ä–∞ –ø–æ–ª—É—á–∞—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ JSX!

***

### –§—É–Ω–∫—Ü–∏–∏ –∏ –º–µ—Ç–æ–¥—ã

–ø–æ–∑–≤–æ–ª—è—é—Ç –∏–∑–±–∞–≤–ª—è—Ç—å—Å—è –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è!

***

### –ó–∞–¥–∞—á–∞ 2.1. ExtractFunction

***

### –¶–∏–∫–ª—ã –∏ map

**–¶–∏–∫–ª**
```js
const listItems = [];
const numbers = [1, 2, 3, 4, 5];
for (const number of numbers) {
  listItems.push(<li>{number}</li>);
}
```

**map**
```js
const numbers = [1, 2, 3, 4, 5];
const listItems = numbers.map((number) =>
  <li>{number}</li>
);
```

***

### –ö–ª—é—á–∏

```js
const todoItems = todos.map((todo) =>
  <li key={todo.id}>
    {todo.text}
  </li>
);
```

–ü–æ–¥–∑–≤–æ–ª—è—é—Ç React –æ—Ç–ª–∏—á–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞
–≠—Ç–æ –≤–∞–∂–Ω–æ –ø—Ä–∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–µ

***

### –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω –∏–Ω–¥–µ–∫—Å

```js
const numbers = [1, 2, 3, 4, 5];
const listItems = numbers.map((number, index) =>
  <li key={index}>{number}</li>
);
```

–ò–Ω–¥–µ–∫—Å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–ª–æ—Ö–æ,
–ø–æ—Ç–æ–º—É —á—Ç–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–æ–∂–µ—Ç –ø–æ–º–µ–Ω—è—Ç—å—Å—è

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ —á–∞—Å—Ç–∏ *Reconciliation*

***

### –ó–∞–¥–∞—á–∞ 2.2. List

***

### –í–µ—Ç–≤–ª–µ–Ω–∏—è

**if-else**
```js
if (isLoggedIn) {
  return <UserGreeting />;
}
return <GuestGreeting />;
```

**–¢–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä**
```js
The user is <b>{isLoggedIn ? 'currently' : 'not'}</b> logged in.
```

**&&**
```js  
{unreadMessages.length > 0 &&
  <h2>You have {unreadMessages.length} unread messages.</h2>}
```

***

### –°–∫—Ä—ã—Ç—å —ç–ª–µ–º–µ–Ω—Ç

```js
function WarningBanner(props) {
  if (!props.warn) {
    return null;
  }

  return (
    <div className="warning">
      Warning!
    </div>
  );
}
```

–ú–æ–∂–Ω–æ –≤–µ—Ä–Ω—É–≤ `null`, `undefined` –∏–ª–∏ `false`

***

### –ó–∞–¥–∞—á–∞ 2.3. Condition

</script></section>


<!-- ************************************************* -->


<section data-markdown><script type="text/template">

## 3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

***

### –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–û–Ω–∏ –ø–æ—Ö–æ–∂–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ —É–∑–ª—ã VirtualDOM
```html
<MyComponent a="1" b="message" />
```

–£ –Ω–∏—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —É–∑–ª—ã
```html
<Parent>
  <Child />
  <Child />
</Parent>
```

–£ –Ω–∏—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```html
<TextInput defaultValue="Let's go" />
```

***

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```js
function MyComponent(props) {
  return (
      <div>{props.a} {props.b}</div>
  );
}
```

Properties ‚Äî –≤—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

–ß–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–∏—Å—è—Ç —Ç–æ–ª—å–∫–æ –æ—Ç —Å–≤–æ–π—Å—Ç–≤.

***

### –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è props

```js
function MyComponent({a, b}) {
  return (
      <div>{a} {b}</div>
  );
}
```

***

### Children

```js
function Parent(props) {
  return (<div className="green">{props.children}</div>);
}
```

***

### DefaultProps

```js
MyComponent.defaultProps = {
  b: 'default value'
}
```

***

### PropTypes

```js
MyComponent.propTypes = {
  a: PropTypes.number.isRequired,
  b: PropTypes.string,
  onFire: PropTypes.func
}
```

***

### –ó–∞–¥–∞—á–∞ 3.1. ExtractComponent

***

### –ö–ª–∞—Å—Å—ã-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```js
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
  }
  
  render() {
    // –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É—é—â–µ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ
    const { a, b } = this.props;
    return (
	  <div>{a} {b}</div>
    );
  }
}
```

***

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

```js
class Counter extends React.Component {
  constructor(props) {
    super(props);
	this.state = { value: props.defaultValue, checked: false };
  }
  render() {
    return <div onClick={this.handleClick}
                className={this.state.checked && 'checked'}
            >{this.state.value}</div>;
  }
  
  handleClick = () => {
    this.setState({
	  value: this.state.value + this.props.step
	});
  }
}
```

***

### –ù—é–∞–Ω—Å—ã

```js
// –°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ JS –±–µ—Ä—É—Ç this —Ç–∞–º, –≥–¥–µ —Å–æ–∑–¥–∞—é—Ç—Å—è,
// –ø–æ—ç—Ç–æ–º—É –∏—Ö –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ onClick
handleClick = () => {
  // –í state –µ—Å—Ç—å value –∏ checked, –Ω–æ –ø–µ—Ä–µ–¥–∞–µ–º –º—ã –æ–¥–Ω–æ ‚Äî —Ç–æ–ª—å–∫–æ –æ–Ω–æ –∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è
  this.setState({
    value: this.state.value * this.props.step
  });
  // –ó–¥–µ—Å—å this.state.value –µ—â–µ –∏–º–µ–µ—Ç —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
}
```
<br>
–ù–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç—å –∏ –Ω–∞–ø–∏—Å–∞—Ç—å `this.state.value = newValue`
React —ç—Ç–æ –Ω–µ –æ—Ç—Å–ª–µ–¥–∏—Ç –∏ –Ω–µ –æ—Ç—Ä–∏—Å—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

***

### –ó–∞–¥–∞—á–∞ 3.2. Toggle

***

### Funcional vs Class

- –ö–ª–∞—Å—Å-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç –≤—Å–µ, —á—Ç–æ –∏ —Ñ—É–Ω–∫—Ü–∏–∏-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∏ –¥–∞–∂–µ –±–æ–ª—å—à–µ
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–∞–º, –≥–¥–µ –Ω–µ –Ω—É–∂–Ω—ã —Ñ–∏—à–∫–∏ –∫–ª–∞—Å—Å–æ–≤
- –§—É–Ω–∫—Ü–∏–∏-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–¥–æ–±–Ω—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤


***

### –£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ vs –ù–µ—É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ

**–£–ø—Ä–∞–≤–ª—è–µ–º—ã–π input**
```js
render() {
  return <input value={this.state.value} onChange={this.handleChange} />;
}

handleChange = event => {
  this.setState({
    value: event.target.value
  });
}
```

**–ù–µ—É–ø—Ä–∞–≤–ª—è–µ–º—ã–π input**
```js
<input defaultValue="default text"/>;
```

–ï—Å–ª–∏ –≤ `value` —É–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ –ø–µ—Ä–µ–¥–∞—Ç—å `undefined`,
—Ç–æ `input` —Å—Ç–∞–Ω–µ—Ç –Ω–µ—É–ø—Ä–∞–≤–ª—è–µ–º—ã–º!

***

### Stateless vs Statefull



***

### Lifting state up

<div style="margin-left: 20px; position: relative">
![children components](assets/LiftStateUp.png)

<div class="fragment" data-fragment-index="1" style="position: absolute; top: 0; background: white;">
  ![with parent component](assets/LiftStateUp2.png)
</div>
</div>

***

### Lifting state up

–ü—É—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç A —Ö—Ä–∞–Ω–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ valueA
–ü—É—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç B —Ö—Ä–∞–Ω–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ valueB

–ï—Å–ª–∏ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, —á—Ç–æ —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–º–µ–Ω—è—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ, —Ç–æ –Ω–∞–¥–æ –ø–æ–¥–Ω—è—Ç—å valueA –∏ valueB –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

–≠—Ç–æ —Ç–µ—Ö–Ω–∏–∫–∞ *Lift state up*

***

### –ó–∞–¥–∞—á–∞ 3.3. MoneyConverter

</script></section>


<!-- ************************************************* -->


<section data-markdown><script type="text/template">

## 4. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

***

### –í–µ—Ö–∏ –∂–∏–∑–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

- Mounting
- Updating
- Unmounting
- Error Handling

***

### –ú–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
```js
// Mounting
constructor()
static getDerivedStateFromProps()
componentWillMount() / UNSAFE_componentWillMount()
render()
componentDidMount()
```

```js
// Updating
componentWillReceiveProps() / UNSAFE_componentWillReceiveProps()
static getDerivedStateFromProps()
shouldComponentUpdate()
componentWillUpdate() / UNSAFE_componentWillUpdate()
render()
getSnapshotBeforeUpdate()
componentDidUpdate()
```

```js
// Unmounting
componentWillUnmount()
```

```js
// Error Handling
componentDidCatch()
```

***

`componentWillMount` –ø—Ä–∏–∑–Ω–∞–Ω –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º,
–ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –Ω–µ–º —Å—Ç–∞–ª–∏ –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä.

–ê –≤–µ–¥—å React –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ:
 - –ø–æ—Å–ª–µ componentWillMount —Å–ª—É—á–∏—Ç—Å—è render
 - componentWillMount –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

–ê –≤–æ—Ç —É `componentDidMount` –≥–∞—Ä–∞–Ω—Ç–∏–∏ –µ—Å—Ç—å:
 - –æ–Ω –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –µ–¥–∏–Ω–æ–∂–¥—ã
 - –∫ –º–æ–º–µ–Ω—Ç—É –≤—ã–∑–æ–≤–∞ componentDidMount render —É–∂–µ —Ç–æ—á–Ω–æ —Å–ª—É—á–∏–ª—Å—è
 - –µ—Å–ª–∏ –±—ã–ª –≤—ã–∑–≤–∞–Ω componentDidMount, —Ç–æ —Ç–æ—á–Ω–æ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –∏ componentWillUnmount

***

```js
// Mounting
componentDidMount()
```
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ —Å–æ–±—ã—Ç–∏—è

<br>
<br>

```js
// Unmounting
componentWillUnmount()
```
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤, –æ—Ç–ø–∏—Å–æ–∫ –æ—Ç —Å–æ–±—ã—Ç–∏–π

***

### –ó–∞–¥–∞—á–∞ 4.1. Timer

***

### getDerivedStateFromProps

–°–æ–∑–¥–∞–Ω, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–ª—è—Ç—å state –ø–æ –Ω–æ–≤—ã–º props

```js
// Mounting
static getDerivedStateFromProps(nextProps, prevState)
```

```js
// Updating
static getDerivedStateFromProps(nextProps, prevState)
```

–î–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ state
–ï—Å–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null, —Ç–æ –æ–±–Ω–æ–≤–ª—è—Ç—å state –Ω–µ –Ω—É–∂–Ω–æ

***

### –ó–∞–¥–∞—á–∞ 4.2. CreditCardInput

</script></section></script>

<!-- ************************************************* -->


<section data-markdown><script type="text/template">

## 5. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

***

> **–•—É–∫–∏** ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã –º–æ–∂–µ—Ç–µ ¬´–ø–æ–¥—Ü–µ–ø–∏—Ç—å—Å—è¬ª –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –∏ –º–µ—Ç–æ–¥–∞–º –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ React –∏–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
> –•—É–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–æ–≤ ‚Äî –æ–Ω–∏ –¥–∞—é—Ç –≤–∞–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React –±–µ–∑ –∫–ª–∞—Å—Å–æ–≤.

–•—É–∫–∏ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å–æ —Å–ª–æ–≤–∞ ***use*** –∏ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

***

### Mounting

```js
function MyFunctionalComponent() {
  // constructor
  const [value, setValue] = useState(1);

  //componentDidMount
  useEffect(() => {
    setValue(2);
  }, []);

  //getDerivedStateFromProps
  if (value < 2) {
    setValue(3);
  }

  //render
  return <div>{value}</div>;
}
```

***

### Updating

```js
function MyFunctionalComponent() {
  // constructor
  const [value, setValue] = useState(1);
  const [fetching, setFetching] = useState(false);

  //componentDidUpdate
  useEffect(() => {
    setFetching(true);
  }, [value]);

  //render
  return <div>{value}</div>;
}
```

–ú–µ—Ç–æ–¥ getSnapshotBeforeUpdate –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –Ω–æ –µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ useRef();

***

### Unmounting

```js
function MyFunctionalComponent() {
  // constructor
  const timer = useRef(null);

  //componentDidMount
  useEffect(() => {
    timer.current = setTimeout(console.log, 10000, '–ü—Ä–æ—à–ª–æ 10000 –º—Å');

    //componentWillUnmount
    return () => {
      clearTimeout(timer.current);
    }
  }, []);

  //render
  return <div>{value}</div>;
}
```

–ú–µ—Ç–æ–¥—ã *getSnapshotBeforeUpdate* –∏ *componentDidCatch* –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

***

### –ó–∞–¥–∞—á–∞ 5. Hooks


</script></section>

<!-- ************************************************* -->


<section data-markdown><script type="text/template">

## 6. –ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

***

### –ó–∞—á–µ–º –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ DOM

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–æ–º, –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–∞ –∏–ª–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ–º –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏, –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–∞&nbsp;—Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏–ª–∏ –µ–≥–æ —Å–∫—Ä–æ–ª–ª–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏, —É–ø—Ä–∞–≤–ª—è—é—â–∏–º–∏ DOM

***

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫

** –°–ø–æ—Å–æ–± 16+ **
```{js}
constructor() {
  this.myRef = React.createRef();
}

render () {
  return <div ref={this.myRef} />
}
// –ü–æ—Å–ª–µ render —Å—Å—ã–ª–∫–∞ –æ–∫–∞–∂–µ—Ç—Å—è –≤ this.myRef.current
```

** –•–æ—Ä–æ—à–∏–π –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± **
```{js}
constructor() {
  this.myRef = null;
}

render () {
  return <div ref={r => this.myRef = r} />
}
// –ü–æ—Å–ª–µ render —Å—Å—ã–ª–∫–∞ –æ–∫–∞–∂–µ—Ç—Å—è –≤ this.myRef
```

***

### –ú–æ–∂–Ω–æ –ø–æ–≤–µ—à–∞—Ç—å –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```{js}
<input ref={this.myRef}>

```


```{js}
<MyComponent ref={this.myRef}>

```


***

### –¢–æ–ª—å–∫–æ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤-–∫–ª–∞—Å—Å–æ–≤

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–ª–∏ —Ç–∞–∫–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞

```{js}
function MyFunctionalComponent() {
  return <input />;
}

```

```{js}
// –¢–∞–∫ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç
<MyFunctionalComponent ref={this.textInput} />
```

***

### –ó–∞–¥–∞—á–∞ 6. Focus

</script></section>

<!-- ************************************************* -->


<section data-markdown><script type="text/template">

## –ü—Ä–∞–∫—Ç–∏–∫–∞

***

### –ó–∞–¥–∞—á–∞

<img src="userProfile/drafts/reactForm.png" alt="–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ userProfile">

***

### –ì–∞–π–¥—ã

<a href="https://guides.kontur.ru/" target="_blank"><img src="assets/guides.png" alt="–°–∫—Ä–∏—à–Ω–æ—Ç –ö–æ–Ω—Ç—É—Ä.–ì–∞–π–¥–æ–≤"></a>

***

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤ React-UI

<a href="http://tech.skbkontur.ru/react-ui/"><img src="assets/react-ui.png" style="border: 1px solid #aaa"
                                                  alt="–°–∫—Ä–∏—à–Ω–æ—Ç React-UI"></a>

***

### –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

<a href="http://tech.skbkontur.ru/react-ui/#/Input" target="_blank">http://tech.skbkontur.ru/react-ui/#/Input</a>

<img src="assets/react-ui-important.png" alt="–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø—É–Ω–∫—Ç—ã view code –∏ props&methods">


***

### –ó–∞–¥–∞—á–∞ userProfile

1. –ü–µ—Ä–µ–π–¥–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∑–∞–¥–∞—á–∏: –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è userProfile
2. –£—Å—Ç–∞–Ω–æ–≤–∏ –≤ –Ω–µ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `npm i`
3. –û—Å—Ç–∞–Ω–æ–≤–∏ –ø—Ä–æ—à–ª—ã–π webpack-—Å–µ—Ä–≤–µ—Ä, –µ—Å–ª–∏ –æ–Ω –≤—Å–µ –µ—â–µ –∑–∞–ø—É—â–µ–Ω.
4. –ó–∞–ø—É—Å—Ç–∏ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä –∫–æ–º–∞–Ω–¥–æ–π `npm start`
5. –í —Ñ–∞–π–ª–µ `src/index.js` –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è


***

### –û–±—Å—É–∂–¥–µ–Ω–∏–µ. –ü—É–Ω–∫—Ç 7.

1. –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ?
2. –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ?
3. –ö–∞–∫ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∏ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ?


</script></section>

<!-- ************************************************* -->


<section data-markdown><script type="text/template">

## 7. Reconciliation

***

### –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```js
class Parent extends React.Component {
  constructor(props) { ... }
  render() {
    const { text } = this.props;
    const { a, b } = this.state;
    return (
	  <div>
	    <h1>{text}</h1>
	    <Child a={a} b={b} />
	  </div>
	);
  }
}
```

***

### –ê–ª–≥–æ—Ä–∏—Ç–º –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–í—Å–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `ReactDom.render` –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ `render`
...
- Parent constructor
- Parent render
  - h1 render
  - Child constructor
  - Child render
    - ...

***

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ú–æ–∂–µ—Ç –ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–º–µ–Ω—è—Ç—å —Å–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ?
–ú–æ–∂–µ—Ç –ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å —Å–µ–±—è?

***

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å —Å–µ–±—è –∏–ª–∏ –ø–æ–º–µ–Ω—è—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ,
–Ω–æ –º–æ–∂–µ—Ç –ø–æ–º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ `setState` –∏ –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞–Ω

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞–Ω, –µ—Å–ª–∏ *–∫—Ç–æ-—Ç–æ —Å–≤—ã—à–µ* –µ–º—É –ø–µ—Ä–µ–¥–∞—Å—Ç –≤ –Ω–µ–≥–æ –Ω–æ–≤—ã–µ `props`

*–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–∞—Å—Å–∏–≤–µ–Ω*: –∫–æ–≥–¥–∞ –∏ —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ—à–∞–µ—Ç React

***

### –ê–ª–≥–æ—Ä–∏—Ç–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–° —á–µ–≥–æ –≤—Å–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è?**

```js
class Parent extends React.Component {
  constructor(props) { ... }
  render() {
    const { text } = this.props;
    const { a, b } = this.state;
    return (
	  <div>
	    <h1>{text}</h1>
	    <Child a={a} b={b} />
	  </div>
	);
  }
}
```


***

–õ—é–±–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–æ `setState` –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä–æ–º —É—Ä–æ–≤–Ω–µ

- Parent setState
- Parent render
  - h1 render
  - Child –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
  - Child render
    - ...
	
*–ù–æ –≤–æ–∑–º–æ–∂–Ω—ã –≤–∞—Ä–∏–∞–Ω—Ç—ã!*

***

### –ü—É—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫

```js
  if (a > 10) {
    return (
      <div>
        <h1>{text}</h1>
        <Bastard a={a} b={b} />
        <Child a={a} b={b} />
      </div>
    );
  }
  return (
    <div>
      <h1>{text}</h1>
      <Child a={a} b={b} />
    </div>
  );

```

***

### –ù–∞ –º–µ—Å—Ç–µ Child –æ–∫–∞–∑–∞–ª—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Bastard

```js
<div>
  <h1>{text}</h1>
  <Bastard a={a} b={b} />
  <Child a={a} b={b} />
</div>
```

–î–∞–∂–µ –µ—Å–ª–∏ –Ω—É–∂–Ω—ã–π Child –∏–¥–µ—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ...

```html
–°—Ç–∞—Ä—ã–π Child —Å–Ω–æ—Å–∏—Ç—Å—è: componentWillUnmount

Bastard —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è: constructor, ... render, componentDidMount

–ù–æ–≤—ã–π Child —Ä–∞–∑–º–µ—á–∞–µ—Ç—Å—è: constructor, ... render, componentDidMount
```

***

### Child –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –ø—Ä–µ–∂–Ω–µ–º –º–µ—Å—Ç–µ

React –ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Child,
–≤—ã–∑—ã–≤–∞—è –º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞

```js
// Updating
static getDerivedStateFromProps()
shouldComponentUpdate()
render()
getSnapshotBeforeUpdate()
componentDidUpdate()
```

***

### –¢–∞–∫ –º–æ–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é

```js
return (
  <div>
    <h1>{text}</h1>
    {a > 10 && <Bastard a={a} b={b} />}
    <Child a={a} b={b} />
  </div>
);

```

***

### –ö–æ–Ω—Ç—Ä–æ–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```js
// Updating
shouldComponentUpdate(nextProps, nextState)
```

***

### Reconciliation ‚Äî —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ

<p style="text-align: center"><img src="assets/should-component-update.png"></p>

***

### ShouldComponentUpdate –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ü–æ —Å—É—Ç–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫:
```js
shouldComponentUpdate(nextProps, nextState) {
  return this.props !== nextProps;
}
```

***

### PureComponent

–ü–æ —Å—É—Ç–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç SCU —Ç–∞–∫:
```js
shouldComponentUpdate(nextProps, nextState) {
  return !shallowEqual(this.props, nextProps);
}
```

–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```js
MyPureComponent extends React.PureComponent {
  ...
}
```

***

#### PureComponent –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç render —Ä–æ–¥–∏—Ç–µ–ª—è

```js
class Child extends React.PureComponent { ... }

class Parent extends React.Component {
  constructor(props) { ... }
  render() {
    const { text } = this.props;
    const { a, b } = this.state;
    return (
	  <div>
	    <h1>{text}</h1>
	    <Child a={a} b={b} />
	  </div>
	);
  }
}
```

***

#### –ù–æ –Ω–µ –≤—Å–µ–≥–¥–∞...

```js
class Child extends React.PureComponent { ... }

class Parent extends React.Component {
  constructor(props) { ... }
  render() {
    const { text } = this.props;
    const { a, b } = this.state;
    return (
	  <div>
	    <h1>{text}</h1>
	    <Child a={a} b={b} onClick={() => { alert('!'); }} />
	  </div>
	);
  }
}
```

–¢–∞–∫ –∑–∞—á–µ–º –º—ã –ø–∏—à–µ–º —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ-–º–µ—Ç–æ–¥—ã –≤–∏–¥–∞ handleClick?

***

#### –ö–∞–∫ —Å–æ–æ—Ç–Ω–æ—Å—è—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ PureComponent?

***

- –ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —á–∏—Å—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚Äî —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ –≤–µ—â–∏
- –¢–æ–ª—å–∫–æ –∫–ª–∞—Å—Å-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å PureComponent
- ShouldComponentUpdate –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è [React.memo](https://ru.reactjs.org/docs/react-api.html#reactmemo)

***

### –ó–∞–¥–∞—á–∞ 6. UsersTable


</script></section>


<!-- ************************************************* -->


<section data-markdown><script type="text/template">

## 8. Higher Order Components

***

*Higher Order Components (HOC)* ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏
–≤–∏–¥–∞ Component ‚Üí Component

–ò—Å–ø–æ–ª—å–∑—É—è HOC, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ –æ–±—ã—á–Ω—ã—Ö:
```js
const EnhancedComponent = enhance(JustComponent); // enhance ‚Äî —ç—Ç–æ HOC
```

***

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ enhance

```{js}
function enhance(WrappedComponent) { // –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç...
    class Enhanced extends React.Component { // ...—Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç...
      render() {
        // –°–≤–æ–π—Å—Ç–≤–∞ —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏
        const { value1, value2, ...rest } = this.props;
        return ( // –†–µ–Ω–¥–µ—Ä–∏–º –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
            <span className={value2}>
                { value1 }
                <WrappedComponent {...rest} isSelected={true} />
            </span>
        )}
    };

    return Enhanced; // ...–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.
}
```

***

### –î–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏

1. –ù–µ –º—É—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
2. –í—Å–µ –ø—Ä–æ–ø—Å—ã –ø—Ä–æ–∫–∏–¥—ã–≤–∞—Ç—å –¥–∞–ª—å—à–µ,
   –∫—Ä–æ–º–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±–µ—Ä—Ç–∫–∏
3. –ó–∞–¥–∞–≤–∞—Ç—å displayName: –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏ –¥–µ–±–∞–≥–µ

```{js}
const wrappedName =
  WrappedComponent.displayName || WrappedComponent.name || 'Component';

Enhanced.displayName = `Enhanced(${wrappedName})`;

return Enhanced
```

***

### Forwarded Ref

```{js}
const someRef = React.createRef();
<EnhancedButton label="Click Me" ref={someRef} />;
```
```{js}
function enhance(WrappedComponent) {
  class Enhanced extends React.Component {
      render() {
        const {forwardedRef, ...rest} = this.props;
        return <WrappedComponent ref={forwardedRef} {...rest} />
      }
  }  
  // React –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ "ref" –≤ props –æ–±—ã—á–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
  // –ù–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç React.forwardRef –¥–∞–µ—Ç –Ω–∞–º –¥–æ—Å—Ç—É–ø –∫ –∑–Ω–∞—á–µ–Ω–∏—é –∞—Ç—Ä–∏–±—É—Ç–∞ "ref"
  // –∏ —Ç–µ–ø–µ—Ä—å —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –ø–æ–¥ –¥—Ä—É–≥–∏–º –∏–º–µ–Ω–µ–º.
  return React.forwardRef((props, ref) => {
    return <Enhanced {...props} forwardedRef={ref} />;
  });
}
```

***

### –ó–∞–¥–∞—á–∞ 8. FormRow

***

### –ü—Ä–∏–º–µ—Ä—ã HOC

–†–æ—É—Ç–µ—Ä
```{js}
const NavbarWithRouter = withRouter(Navbar);
```

Relay
```{js}
const CommentWithRelay = Relay.createContainer(Comment, config);
```

Redux connect
```{js}
const ConnectedComment = connect(commentSelector, commentActions)(CommentList);
```

***

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ HOC

1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É. –ö–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö —Å –†–æ—É—Ç–µ—Ä–æ–º –∏ –†–µ–¥–∞–∫—Å–æ–º
2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ç–∫–∏ –∏–ª–∏ –º–µ—Ç–æ–¥–æ–≤. –ö–∞–∫ –≤ —Ä–µ—à–µ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∫–µ.

***

### –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HOC-–æ–≤ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ *Wrapper Hell*. –ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ *Hooks* –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏.

```js
function useMyOwnHook(initialValue) {
  const [value, setValue] = useState(initialValue);
  const [value2, setValue2] = useState(initialValue);

  useEffect(() => {
    ...
    return () => {
      ...
    };
  }, []);

  return [value, value2];
}
```

</script></section>


<!-- ************************************************* -->


<section data-markdown><script type="text/template">

## 9. Context

***

<p style="text-align: center"><img src="assets/states.png"></p>

***

–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
```{js}
const CakeContext = React.createContext();
```
  
–ü–æ—Å—Ç–∞–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è:
```html
<CakeContext.Provider value={cheeseCake}>
  ...
</CakeContext.Provider>
```

–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:
```html
<CakeContext.Consumer>
  {cake => <Hungry food={cake} />}
</CakeContext.Consumer>
```

***

–ö–æ–Ω—Ç–µ–∫—Å—Ç –≤ –∫–ª–∞—Å—Å-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:
```{js}
class MyClass extends React.Component {
  render() {
    return (
      <>{ this.context }</>
    );
  }
}

MyClass.contextType = MyContext;
```

***

### –ó–∞–¥–∞—á–∞ 9. ColorsOfTime

</script></section>


<!-- ************************************************* -->


<section data-markdown><script type="text/template">

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ


***

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
–ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –ø–æ —Å—Å—ã–ª–∫–µ
<a href="http://bit.ly/kontur-courses-feedback">http://bit.ly/kontur-courses-feedback</a>

</script></section>
			
</div></div>
</body>
</html>
